funcion quicksort_v2(lista) {
    imprimir "QS: " + lista.a_texto()
    si lista.longitud() <= 1 { retornar lista }
    
    pivote = lista[0]
    menores = []
    mayores = []
    
    i = 1
    mientras i < lista.longitud() {
        x = lista[i]
        si x <= pivote { menores.agregar(x) }
        sino { mayores.agregar(x) }
        i += 1
    }
    
    imprimir "  Menores: " + menores.a_texto()
    imprimir "  Mayores: " + mayores.a_texto()

    res = quicksort_v2(menores)
    res.agregar(pivote)
    
    parte_mayor = quicksort_v2(mayores)
    res.unir(parte_mayor) 
    
    retornar res
}

lista = [3, 1, 2]
imprimir quicksort_v2(lista).a_texto()
